# wechat_file_arranger
由于微信没有群文件且聊天文件很容易过期，使用Django+PyWechatSpy管理一些群的群文件(目前暂定为1个群，可围绕列表GROUP_ID进行相关自定义)

可通过以下方法添加文件
1. 管理员发送文件给机器人账号
2. 目标群中任意成员发送的文件
3. 管理员在网页上传

有以下功能：
1. 群成员在指定群里发送”文件列表“、”文件“、”查询” 或 “查询文件”时，机器人会在群里发送当前已保存的文件列表网址，网址有效期为10分钟。
2. 凡进行过上条查询行为的群成员，将自动获得私聊查询的权限，可对机器人私聊 '文件列表'、'文件'、'查询' 或 '查询文件'来获取文件列表网址。
3. 进入文件列表网址后，点击想要获取的文件名，您将会在微信中收到该文件。

致管理员：

1. 管理员可以通过私聊发送文件来将其添加到文件列表中，但若需对该文件进行额外说明(备注)，请在管理员网站中修改。
2. 管理员网站可对机器人发送“管理“ 或 ”manage“来获取。
3. 管理员用于上传文件的网址可通过发送“上传”或“upload”来获取。

使用时的注意事项:
1. 进入上述网站均需验证密钥，且每次获取的密钥仅有10分钟有效期，以保证文件安全性，故请在需要查看文件时即时获取。
2. 为增加鲁棒性，通过微信发送文件后10秒才会开始后续操作。

克隆注意事项:

1. 使用前请先从GitHub上[克隆PyWechatSpy](https://github.com/veikai/PyWeChatSpy)。在此感谢@[veikai](https://github.com/veikai)。
2. 可选功能：微信掉线时发送警告邮件，需要在.\util\message_config.ini填写相关参数
3. 可选功能：管理员可向机器人发送图片来将其添加到文件列表中，如需使用该功能，请参考 [如何解密微信图片](https://blog.csdn.net/zhanglw882/article/details/110221075) 来配置xor_value (或参考1中克隆的库中的example文件)
4. 机器号电脑端发送的所有信息都会失效